---
import BaseLayout from "@components/base/BaseLayout.astro";
import PageHeader from "@components/common/PageHeader.astro";
import { FaSignOutAlt, FaBook, FaSearch } from "react-icons/fa";
---

<BaseLayout title="Apps Dashboard">
  <PageHeader title="Apps Dashboard" />
  <section class="section">
    <div class="container">
      <div class="flex justify-end mb-6">
        <button
          id="logout-button"
          class="flex items-center px-4 py-2 glass hover:bg-red-500/10 text-red-500 rounded-lg transition-colors"
        >
          <FaSignOutAlt className="mr-2" /> Logout
        </button>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Discovery Companion App -->
        <a href="/apps/discovery" class="glass rounded-lg p-6 hover:transform hover:-translate-y-1 transition-all duration-300 group">
          <div class="flex items-center mb-4">
            <FaBook className="text-2xl mr-3 text-primary-500 group-hover:text-primary-600 transition-colors" />
            <h3 class="text-xl font-semibold">Discovery Companion</h3>
          </div>
          <p class="text-gray-600 dark:text-gray-400 mb-4">Organize and access your educational resources efficiently.</p>
          <div class="flex items-center text-sm text-primary-500">
            <FaSearch className="mr-1" /> 
            <span>Launch App</span>
          </div>
        </a>

        <!-- Placeholder for future apps -->
        <div class="glass rounded-lg p-6">
          <h3 class="text-xl font-semibold mb-2">More Coming Soon</h3>
          <p class="text-gray-600 dark:text-gray-400">Additional apps will appear here.</p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  import { checkSession, clearSession } from '@/lib/session';
  
  // Redirect to login if not authenticated
  if (!checkSession()) {
    window.location.href = '/apps';
  }

  // Handle logout
  document.getElementById('logout-button')?.addEventListener('click', () => {
    clearSession();
    window.location.href = '/apps';
  });
</script> 